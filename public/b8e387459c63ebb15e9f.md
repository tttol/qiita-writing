---
title: xcodebuildコマンドがエラーになる時の対処
tags:
  - Xcode
private: false
updated_at: '2025-08-13T07:34:41+09:00'
id: b8e387459c63ebb15e9f
organization_url_name: null
slide: false
ignorePublish: false
---
# 事象
xcodebuildコマンドが以下のエラーで失敗する。
```bash
$ xcodebuild test -project HogePj.xcodeproj -scheme HogePj -destination 'platform=macOS'

xcode-select: error: tool 'xcodebuild' requires Xcode, but active developer directory '/Library/Developer/CommandLineTools' is a command line tools instance
```

# 解決策
以下のIssueの通りに実行。

https://github.com/nodejs/node-gyp/issues/569

```bash
xcode-select --install # Install Command Line Tools if you haven't already.
sudo xcode-select -s /Applications/Xcode.app/Contents/Developer
```
※自分はXcode.appをインストール済みだったので`sudo xcode-select -s /Applications/Xcode.app/Contents/Developer`を実行した。Xcode.appがない場合は`sudo xcode-select --switch /Library/Developer/CommandLineTools`を実行する必要がありそう。


# 解説
- 原因
    - Xcode Command Line ToolsがXCodeを認識できていなかったため、xcodebuildコマンドが正しく動作しなかった
- Xcode Command Line Toolsとは
    - Appleが提供するCUIツール。makeやxcodebuildなどのコマンド群。
- Xcode Command Line ToolsにXcodeのパスを明示的に与えることでxcodebuildコマンドが成功するようになる
