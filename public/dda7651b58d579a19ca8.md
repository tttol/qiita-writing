---
title: SpringBoot × Gradleでプロジェクトを作ってSTS(Eclipse)にインポートするまで
tags:
  - Eclipse
  - gradle
  - STS
  - SpringBoot
private: false
updated_at: '2021-08-29T20:03:44+09:00'
id: dda7651b58d579a19ca8
organization_url_name: null
slide: false
ignorePublish: false
---
SpringBoot × Gradleでプロジェクトを作ってSTS(Eclipse)にインポートするまでに地味に苦労したので、同じ轍を踏まないよう備忘録を残しておく。

# Spring Initializrを使ってプロジェクトを生成する
Spring公式が便利なツールを提供してくれている↓
https://start.spring.io/

アクセスすると以下のサイトに遷移し、条件を指定してGENERATE押下でSpringBootのプロジェクト一式をzipで生成してくれる。
![スクリーンショット 2021-08-29 19.44.50.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/159675/9a4ff877-6adf-6bce-60ed-6df6ceea5281.png)

今回自分の場合はJava8で試したいことがあったため、`Java`のラジオボタンを８にし、ArtifactとNameを適当に変更してGENERATEした。

# ひとまず動作確認
生成したzipを展開して、以下コマンドでちゃんと動くか確認しておく。

```sh
$ ./gradlew bootRun
```

↓みたいになればOK。ここでコケることはまあないはず。

```
> Task :app:bootRun

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::        (v2.2.1.RELEASE)

2019-11-12 22:14:43.819  INFO 1389 --- [           main] o.g.samples.SpringBootDemoApplication    : Starting SpringBootDemoApplication on localhost with PID 1389 (/home/user/build/classes/java/main started by user in /home/user)
2019-11-12 22:14:43.820  INFO 1389 --- [           main] o.g.samples.SpringBootDemoApplication    : No active profile set, falling back to default profiles: default
2019-11-12 22:14:44.108  INFO 1389 --- [           main] o.g.samples.SpringBootDemoApplication    : Started SpringBootDemoApplication in 5.537 seconds (JVM running for 5.8)

BUILD SUCCESSFUL
3 actionable tasks: 3 executed
```

# STS(Eclipse)でインポートするために一工夫加える
SpringBoot × Gradleのプロジェクトはこれで完成したわけだが、コーディングはSTSでやりたいので、もうひと手間必要である。

プロジェクトディレクトリ直下にあるbuild.gradleのpluginsに`id 'eclipse'`を追記する

```diff:build.gradle
plugins {
	id 'org.springframework.boot' version '2.5.4'
	id 'io.spring.dependency-management' version '1.0.11.RELEASE'
	id 'java'
+	id 'eclipse'
}

group = 'com.example'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '1.8'

repositories {
	mavenCentral()
}

dependencies {
	implementation 'org.springframework.boot:spring-boot-starter'
	testImplementation 'org.springframework.boot:spring-boot-starter-test'
}

test {
	useJUnitPlatform()
}
```

そして以下コマンドを実行

```
$ ./gradlew eclipse
```

↓

```shell

BUILD SUCCESSFUL in 8s
3 actionable tasks: 3 executed
```

これで、STSでインポートできるようになる。

# STSにインポートして起動確認
ここはEclipseに慣れてる方なら問題ないはず。

File -> Import -> General -> Existing Projects into Workspace
→プロジェクトディレクトリ選択してFinish

左下のBootDashboardからアプリ起動して、起動成功ログが出るか確認する。
![スクリーンショット 2021-08-29 20.00.36.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/159675/b890058e-f06b-9708-8826-fc362cf8b29f.png)

以上！

# 参考
https://qiita.com/grachro/items/d1ebad3857a794895426#%E6%96%B9%E6%B3%95%EF%BC%92gradle-ide-pack%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3%E3%81%A7eclipse%E4%B8%8A%E3%81%8B%E3%82%89%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90

https://docs.gradle.org/current/samples/sample_building_spring_boot_web_applications.html#header
