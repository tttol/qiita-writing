---
title: えっ、まだPostgreSQLでダブルクォーテーション使ってるの？
tags:
  - SQL
  - PostgreSQL
  - DB
  - 備忘録
  - 新人プログラマ応援
private: false
updated_at: '2021-04-14T08:09:44+09:00'
id: b14ab34415a1ebd8a9c5
organization_url_name: null
slide: false
ignorePublish: false
---
##PosterSQLでは文字定数を「”」で括るとエラー
PostgreSQLで既存のテーブルにデータを挿入するために、以下のクエリ文を実行しました。  

```sql
INSERT INTO table_name VALUES ("value1", "value2", "value3"); 
```

するとこれ、エラーで返ってきました。  
（エラーメッセージはうろ覚えですが「value1なんてカラムは存在しないよ」的なことを言ってました）

PostgreSQLでは、ダブルクォーテーション「”」をシングルクォーテーション「'」にしないといけません。なので、以下のように変更します。

```sql
-- ダブルクォーテーションをシングルクォーテーションに変更
INSERT INTO table_name VALUES ('value1', 'value2', 'value3'); 
```

##「”」と「’」の違い
PostgreSQLなどの標準SQLでは、
<br/>

* <span style="color: #ff0000">シングルクォーテーションで囲う：文字列定数として扱う</span>

* <span style="color: #ff0000">ダブルクォーテーションで囲う：カラム名として扱う</span>

という仕様になっている。

`'value1'`は`value1`という文字列として捉え、`"value1"`は`value1`というカラムの名前として捉えられます。

テーブルになにか文字列を挿入するときはシングルクォーテーションで囲ってやらないと、SQLが文字列として認識してくれないわけです。


つまり、文字列定数をダブルクォーテーションで囲うな！ということです。

##一方MySQLでは…
世の中に存在するほとんどのDBMS（Database Management System）はこの標準SQLの仕様に従います。
しかしMySQLだけは独自の仕様を持っています。MySQLでは、

* シングルクォーテーション「'」で囲う：文字列定数として扱う

* ダブルクォーテーション「"」で囲う：文字列定数として扱う

* <span style="color: #ff0000">バッククォート「`」で囲う：カラム名として扱う</span>
という仕様になっています。

シングルクォーテーションだろうがダブルクォーテーションだろうが、<span style="color: #ff0000">どっちで囲っても文字列定数として認識されます。</span>カラム名として認識してほしいときはバッククォートを使わないといけません。

##雑感
私が初めて触ったDBMSはMySQLだったため、「”」と「’」の違いなんて全く気にしていませんでした。DBを初めて勉強するときは標準SQLの仕様に沿ったDBMSを使うべきだなあと感じました。
