---
title: フォースとともにあらんことを…ヨーダ記法について
tags:
  - tips
  - ポエム
  - 新人プログラマ応援
private: false
updated_at: '2021-02-26T16:28:19+09:00'
id: d24e182ac405fbc8a280
organization_url_name: null
slide: false
ignorePublish: false
---
有名なプログラミング記法のひとつに、**”ヨーダ記法”**と呼ばれる記法があります。
![image.png](https://qiita-image-store.s3.amazonaws.com/0/159675/53b0f310-015b-0abc-2c7e-846edc0cd24a.png)

<br/>
スターウォーズに出てくるあのヨーダです。
<br />
例えば、こんなif文があったとします。
変数 value の値が100かどうかを判定するif文です。

```java
if(value == 100) { 
  // valueが100のときにする処理
} 
```
ヨーダ記法では、これを以下のように書きます。ifのカッコ内に注目してください。

```java
if(100 == value) { 
  // valueが100のときにする処理
} 
```
<br />
ifのカッコ内が`if(value == 100)`から`if(100 == value)`に変わっています。
<br />
ヨーダ記法では、定数（100）と変数（`value`）を倒置させて記述します。
<br />
つまり、順番を入れ替えるわけです。

##処理結果はどちらも同じ。だが…
2つの例はどちらの書き方で実行しても結果は同じです。
<br />
一般的には`if(value == 100)`と書く人が大多数だと思います。
<br />
でも、その書き方だとこういう間違いをしてしまうことがあります。

```java
/*  "==" が "="になってる！ */
if (value = 100){
  // 処理
}
```

<br />
`value`と`100`を比較したいのに、これでは`value`に`100`という値を代入してしまっています。
<br />
しかし、このコードはコンパイルが通ってしまいます。何のエラーも吐いてくれません。
<br />
なぜなら、`value=100`は”変数valueに値100を代入する”という処理として成立してしまっているからです。
<br />
でも、ヨーダ記法で同じ間違いをしてしまったときはどうでしょう？

```java
/*  "==" が "="になってる！ */
if (100 = value){
  // 処理
}
```
<br />
この場合はコンパイラがしっかりエラーを吐きます。
<br />
だって、`100＝value`なんて処理は無理ですもんね。
<br />
つまり何が言いたいかというと…
<br />
<span style="color: #ff0000">ヨーダ記法のほうがミスを未然に防げる</span>ということです。


##しかし、技術は進歩している…

ヨーダ記法はコンパイラが見落としてしまうミスを防ぐことができます。
<br />
しかし、現代のコンパイラは`if (value = 100)`のようなifの中に代入処理が入った記述を見つけると警告を出してくれます。
<br />

```java
if(value = 100) { }...
// Using the result of an assignment as a condition without parentheses ←コンパイラによる警告
```

ヨーダ記法を使わずとも、コンパイラがエラーに気づいてくれるようになったのです。
<br/>
かわいそうなヨーダ記法…。
![image.png](https://qiita-image-store.s3.amazonaws.com/0/159675/f6007388-b2e5-433f-c31e-1672ac97001a.png)
<br/>
<br/>
今はもう使う必要のない記法ですが、定数と変数を倒置させるという先人たちの発想そのものは見習うべきだと感じました。
