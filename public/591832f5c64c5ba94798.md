---
title: >-
  `gradlew bootBuildImage`で作成したSpringBootアプリコンテナでThymeleafテンプレートがmight not
  existになる
tags:
  - gradle
  - Docker
  - Thymeleaf
  - SpringBoot
private: false
updated_at: '2023-02-04T09:12:47+09:00'
id: 591832f5c64c5ba94798
organization_url_name: null
slide: false
ignorePublish: false
---
# TL;DR
application.ymlから`spring.thymeleaf.*`系のキャッシュ設定を削除することで解決。
```diff:application.yml
spring:
-   thymeleaf:
-     cache: false # アプリリロードなしで変更を反映
-     cache-period: 0
-     prefix: file:src/main/resources/templates/
```

# stacktrace
```
Error resolving template "list", template might not exist or might not be accessible by any of the configured Template Resolvers
```

# 状況
- 任意のページにアクセスするとThymeleafエラー。テンプレートファイルがないと言われる。
- ローカル環境ではエラーなし
- `gradlew bootBuildImage`で作成したdockerイメージをコンテナ起動した場合のみエラー発生

# 解決策
- cache周りが怪しかったので、application.ymlから以下を削除
```diff:application.yml
spring:
-   thymeleaf:
-     cache: false # アプリリロードなしで変更を反映
-     cache-period: 0
-     prefix: file:src/main/resources/templates/
```


参考： 

https://github.com/spring-projects/spring-boot/issues/2057
